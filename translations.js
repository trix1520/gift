// Система переводов для GiftMarket
const translations = {
    ru: {
        // Header
        tonPrice: "TON:",
        
        // Navigation
        navHome: "Главная",
        navRequisites: "Реквизиты",
        navOrders: "Ордера",
        navProfile: "Профиль",
        navSupport: "Поддержка",
        
        // Main page
        welcomeTitle: "GiftMarket",
        welcomeSubtitle: "Надежный P2P гарант для ваших сделок",
        
        // Features
        featureSecurityTitle: "Гарантия безопасности",
        featureSecurityDesc: "Более года на рынке P2P гарантов",
        featureSpeedTitle: "Быстрые транзакции",
        featureSpeedDesc: "Моментальная обработка транзакций",
        featureCommissionTitle: "Комиссия",
        featureCommissionDesc: "Всего 1% от суммы сделки",
        
        createOrderBtn: "Создать ордер",
        successfulDeals: "Успешные сделки",
        
        // Orders page
        myOrders: "Мои ордера",
        noOrdersTitle: "У вас пока нет ордеров",
        noOrdersDesc: "Создайте свой первый ордер",
        createNewOrder: "Создать новый ордер",
        
        // Order creation
        orderCreation: "Создание ордера",
        dealType: "Тип сделки",
        paymentMethod: "Способ оплаты",
        orderDetails: "Детали ордера",
        
        // Deal types
        nftGift: "Продажа NFT подарка",
        nftUsername: "Продажа NFT username",
        nftNumber: "Продажа NFT number",
        
        // Payment methods
        tonWallet: "TON кошелёк",
        bankCard: "Банковская карта",
        telegramStars: "Telegram Stars",
        
        // Order form
        dealAmount: "Сумма сделки",
        enterAmount: "Введите сумму",
        description: "Описание",
        describeItem: "Опишите предмет сделки",
        back: "Назад",
        create: "Создать",
        
        // Requisites page
        requisites: "Реквизиты",
        notAdded: "Не добавлен",
        notAddedFemale: "Не добавлена",
        added: "Добавлен",
        addedFemale: "Добавлена",
        
        tonWalletTitle: "TON кошелёк",
        enterTonWallet: "Введите адрес TON кошелька",
        save: "Сохранить",
        edit: "Изменить",
        
        bankCardTitle: "Банковская карта",
        cardNumber: "Номер карты",
        bankName: "Название банка",
        selectCurrency: "Выберите валюту",
        
        telegramTitle: "Telegram",
        
        // Profile page
        profile: "Профиль",
        completedDeals: "Завершено сделок",
        totalVolume: "Общий оборот",
        volumeByCurrency: "Оборот по валютам",
        noData: "Нет данных",
        
        // Admin panel
        adminPanel: "Панель администратора",
        dealsCount: "Количество сделок",
        update: "Обновить",
        addVolume: "Добавить оборот",
        add: "Добавить",
        
        // Support page
        support: "Поддержка",
        workingHours: "Часы работы",
        workingHoursText: "Ежедневно<br>с 6:00 до 22:00 UTC+3",
        supportService: "Служба поддержки",
        escrowAccount: "Эскроу аккаунт",
        escrowAccountText: "Аккаунт для передачи активов:",
        
        // Order card
        orderCode: "#",
        type: "Тип:",
        payment: "Оплата:",
        amount: "Сумма:",
        descriptionLabel: "Описание:",
        requisitesLabel: "Реквизиты:",
        link: "Ссылка:",
        
        // Order statuses
        statusActive: "Активен",
        statusPaid: "Оплачен",
        statusCompleted: "Завершён",
        
        // Order actions
        copyLink: "Копировать ссылку",
        iPaid: "Я оплатил",
        assetTransferred: "Актив передан",
        confirmReceipt: "Подтвердить получение",
        adminPaid: "Админ: Оплачено",
        
        // Modals
        orderCreatedTitle: "Ордер создан!",
        code: "Код:",
        buyerLink: "Ссылка для покупателя:",
        
        confirmTransferTitle: "Подтверждение передачи",
        confirmTransferText: "Вы подтверждаете, что актив передан эскроу аккаунту?",
        deal: "Сделка:",
        confirmTransferNote: "После подтверждения покупатель получит уведомление о необходимости проверить получение актива.",
        cancel: "Отмена",
        confirm: "Подтвердить",
        
        dealCompletedTitle: "Сделка успешно завершена!",
        thankYou: "Благодарим за использование GiftMarket!",
        orderNumber: "Номер сделки:",
        dealCompletedText: "Ваша сделка успешно завершена и учтена в статистике. Спасибо за доверие к нашему сервису безопасных транзакций!",
        great: "Отлично!",
        
        // Buyer view
        forPayment: "Реквизиты для оплаты:",
        paymentInstructions: "После оплаты свяжитесь с продавцом через поддержку <strong>@GiftMarketEscrow</strong> и ожидайте подтверждения.",
        acceptOrder: "Принять ордер",
        
        // Toast messages
        success: "Успешно",
        error: "Ошибка",
        warning: "Внимание",
        info: "Информация",
        
        tonWalletSaved: "TON кошелёк сохранён",
        bankCardSaved: "Банковская карта сохранена",
        telegramSaved: "Telegram сохранён",
        linkCopied: "Ссылка скопирована",
        orderCreated: "Ордер создан!",
        paymentConfirmed: "Оплата подтверждена",
        sellerNotified: "Продавцу отправлено уведомление",
        buyerNotified: "Покупатель уведомлен о передаче актива",
        dealCompleted: "Сделка завершена",
        connectedToOrder: "Вы подключились к ордеру!",
        dealsCountUpdated: "Количество сделок обновлено",
        volumeAdded: "Оборот добавлен",
        adminAccess: "Получен доступ администратора",
        
        enterWallet: "Введите адрес кошелька",
        fillAllFields: "Заполните все поля",
        addTonWallet: "Добавьте TON кошелёк в разделе Реквизиты",
        addBankCard: "Добавьте банковскую карту в разделе Реквизиты",
        addTelegram: "Добавьте Telegram в разделе Реквизиты",
        orderNotFound: "Ордер не найден",
        orderInactive: "Этот ордер уже неактивен",
        yourOrder: "Это ваш ордер",
        
        serverError: "Не удалось подключиться к серверу",
        saveError: "Не удалось сохранить",
        createOrderError: "Не удалось создать ордер",
        confirmPaymentError: "Не удалось подтвердить оплату",
        completeDealError: "Не удалось завершить сделку",
        loadOrderError: "Не удалось загрузить ордер",
        joinOrderError: "Ошибка подключения к ордеру",
        cannotBuyOwnOrder: "Вы не можете купить свой собственный ордер",
        
        // Notifications
        newBuyer: "Новый покупатель",
        paymentReceived: "Оплата получена",
        buyerJoined: "присоединился к ордеру",
        paymentConfirmedNotif: "подтвердил оплату ордера",
        dealCompletedNotif: "успешно завершен",
        
        // Currency codes
        RUB: "RUB",
        USD: "USD",
        EUR: "EUR",
        KZT: "KZT",
        UAH: "UAH"
    },
    
    en: {
        // Header
        tonPrice: "TON:",
        
        // Navigation
        navHome: "Home",
        navRequisites: "Requisites",
        navOrders: "Orders",
        navProfile: "Profile",
        navSupport: "Support",
        
        // Main page
        welcomeTitle: "GiftMarket",
        welcomeSubtitle: "Reliable P2P escrow for your deals",
        
        // Features
        featureSecurityTitle: "Security Guarantee",
        featureSecurityDesc: "Over a year in P2P escrow market",
        featureSpeedTitle: "Fast Transactions",
        featureSpeedDesc: "Instant transaction processing",
        featureCommissionTitle: "Commission",
        featureCommissionDesc: "Only 1% of transaction amount",
        
        createOrderBtn: "Create Order",
        successfulDeals: "Successful Deals",
        
        // Orders page
        myOrders: "My Orders",
        noOrdersTitle: "You don't have any orders yet",
        noOrdersDesc: "Create your first order",
        createNewOrder: "Create New Order",
        
        // Order creation
        orderCreation: "Order Creation",
        dealType: "Deal Type",
        paymentMethod: "Payment Method",
        orderDetails: "Order Details",
        
        // Deal types
        nftGift: "Sell NFT Gift",
        nftUsername: "Sell NFT Username",
        nftNumber: "Sell NFT Number",
        
        // Payment methods
        tonWallet: "TON Wallet",
        bankCard: "Bank Card",
        telegramStars: "Telegram Stars",
        
        // Order form
        dealAmount: "Deal Amount",
        enterAmount: "Enter amount",
        description: "Description",
        describeItem: "Describe the item",
        back: "Back",
        create: "Create",
        
        // Requisites page
        requisites: "Requisites",
        notAdded: "Not added",
        notAddedFemale: "Not added",
        added: "Added",
        addedFemale: "Added",
        
        tonWalletTitle: "TON Wallet",
        enterTonWallet: "Enter TON wallet address",
        save: "Save",
        edit: "Edit",
        
        bankCardTitle: "Bank Card",
        cardNumber: "Card number",
        bankName: "Bank name",
        selectCurrency: "Select currency",
        
        telegramTitle: "Telegram",
        
        // Profile page
        profile: "Profile",
        completedDeals: "Completed Deals",
        totalVolume: "Total Volume",
        volumeByCurrency: "Volume by Currency",
        noData: "No data",
        
        // Admin panel
        adminPanel: "Admin Panel",
        dealsCount: "Deals Count",
        update: "Update",
        addVolume: "Add Volume",
        add: "Add",
        
        // Support page
        support: "Support",
        workingHours: "Working Hours",
        workingHoursText: "Daily<br>6:00 AM - 10:00 PM UTC+3",
        supportService: "Support Service",
        escrowAccount: "Escrow Account",
        escrowAccountText: "Account for asset transfer:",
        
        // Order card
        orderCode: "#",
        type: "Type:",
        payment: "Payment:",
        amount: "Amount:",
        descriptionLabel: "Description:",
        requisitesLabel: "Requisites:",
        link: "Link:",
        
        // Order statuses
        statusActive: "Active",
        statusPaid: "Paid",
        statusCompleted: "Completed",
        
        // Order actions
        copyLink: "Copy Link",
        iPaid: "I Paid",
        assetTransferred: "Asset Transferred",
        confirmReceipt: "Confirm Receipt",
        adminPaid: "Admin: Paid",
        
        // Modals
        orderCreatedTitle: "Order Created!",
        code: "Code:",
        buyerLink: "Link for buyer:",
        
        confirmTransferTitle: "Transfer Confirmation",
        confirmTransferText: "Do you confirm that the asset has been transferred to the escrow account?",
        deal: "Deal:",
        confirmTransferNote: "After confirmation, the buyer will be notified to check receipt of the asset.",
        cancel: "Cancel",
        confirm: "Confirm",
        
        dealCompletedTitle: "Deal Successfully Completed!",
        thankYou: "Thank you for using GiftMarket!",
        orderNumber: "Deal number:",
        dealCompletedText: "Your deal has been successfully completed and recorded in statistics. Thank you for trusting our secure transaction service!",
        great: "Great!",
        
        // Buyer view
        forPayment: "Payment details:",
        paymentInstructions: "After payment, contact the seller through support <strong>@GiftMarketEscrow</strong> and wait for confirmation.",
        acceptOrder: "Accept Order",
        
        // Toast messages
        success: "Success",
        error: "Error",
        warning: "Warning",
        info: "Information",
        
        tonWalletSaved: "TON wallet saved",
        bankCardSaved: "Bank card saved",
        telegramSaved: "Telegram saved",
        linkCopied: "Link copied",
        orderCreated: "Order created!",
        paymentConfirmed: "Payment confirmed",
        sellerNotified: "Seller has been notified",
        buyerNotified: "Buyer notified about asset transfer",
        dealCompleted: "Deal completed",
        connectedToOrder: "You have joined the order!",
        dealsCountUpdated: "Deals count updated",
        volumeAdded: "Volume added",
        adminAccess: "Admin access granted",
        
        enterWallet: "Enter wallet address",
        fillAllFields: "Fill in all fields",
        addTonWallet: "Add TON wallet in Requisites section",
        addBankCard: "Add bank card in Requisites section",
        addTelegram: "Add Telegram in Requisites section",
        orderNotFound: "Order not found",
        orderInactive: "This order is already inactive",
        yourOrder: "This is your order",
        
        serverError: "Failed to connect to server",
        saveError: "Failed to save",
        createOrderError: "Failed to create order",
        confirmPaymentError: "Failed to confirm payment",
        completeDealError: "Failed to complete deal",
        loadOrderError: "Failed to load order",
        joinOrderError: "Failed to join order",
        cannotBuyOwnOrder: "You cannot buy your own order",
        
        // Notifications
        newBuyer: "New Buyer",
        paymentReceived: "Payment Received",
        buyerJoined: "joined the order",
        paymentConfirmedNotif: "confirmed payment for order",
        dealCompletedNotif: "successfully completed",
        
        // Currency codes
        RUB: "RUB",
        USD: "USD",
        EUR: "EUR",
        KZT: "KZT",
        UAH: "UAH"
    }
};

// Текущий язык (по умолчанию русский)
let currentLanguage = localStorage.getItem('language') || 'ru';

// Функция для получения перевода
function t(key) {
    return translations[currentLanguage][key] || key;
}

// Функция для обновления всех переводов на странице
function updatePageTranslations() {
    // Обновляем все элементы с атрибутом data-i18n
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = t(key);
        
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translation;
        } else {
            element.textContent = translation;
        }
    });
    
    // Обновляем элементы с HTML содержимым
    document.querySelectorAll('[data-i18n-html]').forEach(element => {
        const key = element.getAttribute('data-i18n-html');
        element.innerHTML = t(key);
    });
    
    // Обновляем активный заказ и историю, если они есть на странице
    if (typeof updateOrdersList === 'function') {
        updateOrdersList();
    }
    
    if (typeof updateProfileStats === 'function') {
        updateProfileStats();
    }
}

// Инициализация переводов при загрузке страницы
document.addEventListener('DOMContentLoaded', function() {
    updatePageTranslations();
});
